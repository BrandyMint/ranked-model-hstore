# ranked-model-hstore

Что ожидаем:

1. Возможность применять concern для других моделей (не только product)
2. Возможность указывать название поля для сортировки (`category_positions`) и scope-поля (`by_category_id`)
3. Минимум SQL запросов при сохранении.
4. Колбеки при пересортировке.
5. Если товар добавляется в категорию у него автоматически должен появиться порядок.
6. Защита от случаев когда у товаров нет значения сортировки (в этом случае они должны появиться)
7. Возможность узнать порядковое значение товара.
8. Тесты перевести на minitest

Используем SOLID.


## Термины

* rank - порядковое значение товара (0,1,2,3,4)
* position - raw-значение позиции в списке (-10000, -5000, 0, 5000, 10000)


См пример: https://github.com/mixonic/ranked-model
